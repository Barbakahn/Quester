CREATE TABLE IF NOT EXISTS "World" (
	"Id"	TEXT NOT NULL UNIQUE,
	"Name"	TEXT NOT NULL,
	"Description"	TEXT,
	PRIMARY KEY("Id")
);

CREATE TABLE IF NOT EXISTS "Quest" (
	"Id"	TEXT NOT NULL UNIQUE,
	"Name"	TEXT NOT NULL,
	"World"	TEXT NOT NULL,
	"IsMain"	INTEGER DEFAULT 1,
	"IsFailable"	INTEGER DEFAULT 0,
	"IsOptional"	INTEGER DEFAULT 0,
	"ParentId"	TEXT DEFAULT '00000000-0000-0000-0000-000000000000',
	PRIMARY KEY("Id"),
	FOREIGN KEY(World) REFERENCES World(Id)
);

CREATE TABLE IF NOT EXISTS "Character" (
	"Id"	TEXT NOT NULL UNIQUE,
	"Name"	TEXT NOT NULL,
	"Image"	BLOB,
	PRIMARY KEY("Id")
);

CREATE TABLE IF NOT EXISTS "DialogueText" (
	"Id"	TEXT NOT NULL UNIQUE,
	"Text"	TEXT NOT NULL,
	"Localization"	INTEGER,
	PRIMARY KEY("Id")
);

CREATE TABLE IF NOT EXISTS "Dialogue" (
	"Id"	TEXT NOT NULL UNIQUE,
	"From"	TEXT NOT NULL,
	"To"	TEXT NOT NULL,
	"DialoguesText"	TEXT NOT NULL,
	PRIMARY KEY("Id"),
	FOREIGN KEY(From) REFERENCES Character(Id),
	FOREIGN KEY(To) REFERENCES Character(Id),
	FOREIGN KEY(DialoguesText) REFERENCES DialogueText(Id)
);